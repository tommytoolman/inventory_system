# Example crontab entries for HANKS Inventory System
#
# To install: crontab crontab.example
# To edit: crontab -e
# To list: crontab -l
#
# Format: minute hour day month weekday command
# Use https://crontab.guru/ to test cron expressions

# Set environment variables for all cron jobs
SHELL=/bin/bash
PATH=/usr/local/bin:/usr/bin:/bin
AUTH_USER=your_username
AUTH_PASS=your_password
BASE_URL=http://localhost:8080
LOG_DIR=/Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/logs

# For Railway deployment, use:
# BASE_URL=https://your-app.up.railway.app

# ==================================================
# SYNC ALL PLATFORMS
# ==================================================

# Run full sync every 4 hours (at 00:00, 04:00, 08:00, 12:00, 16:00, 20:00)
0 */4 * * * /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/scripts/sync_all_platforms.sh >> /dev/null 2>&1

# Run morning sync at 8:00 AM every day with higher concurrency
0 8 * * * MAX_CONCURRENT=4 /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/scripts/sync_all_platforms.sh

# Run evening sync at 6:00 PM every day
0 18 * * * /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/scripts/sync_all_platforms.sh

# ==================================================
# PLATFORM-SPECIFIC SYNCS (if needed)
# ==================================================

# Sync only Reverb and eBay every 2 hours during business hours (9 AM - 6 PM)
0 9-18/2 * * * PLATFORMS="reverb,ebay" /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/scripts/sync_all_platforms.sh

# Sync V&R once daily at 3:00 AM (less frequent as it's slower)
0 3 * * * PLATFORMS="vr" MAX_CONCURRENT=1 /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/scripts/sync_all_platforms.sh

# ==================================================
# MAINTENANCE
# ==================================================

# Clean up old sync event logs weekly on Sunday at 2:00 AM
# 0 2 * * 0 /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/scripts/cleanup_old_sync_events.sh

# ==================================================
# MONITORING
# ==================================================

# Email sync results daily at 9:00 PM (requires mail setup)
# 0 21 * * * /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/scripts/email_sync_summary.sh

# ==================================================
# NOTES
# ==================================================
#
# 1. Always test your cron jobs manually first:
#    AUTH_USER=xxx AUTH_PASS=xxx ./scripts/sync_all_platforms.sh
#
# 2. Check logs regularly at:
#    /Users/wommy/Documents/GitHub/PROJECTS/HANKS/inventory_system/logs/
#
# 3. For debugging, temporarily redirect output to a file:
#    0 */4 * * * /path/to/script.sh >> /tmp/cron_debug.log 2>&1
#
# 4. On macOS, you may need to grant cron full disk access in System Preferences
#
# 5. Consider using a process manager like systemd timers or launchd on macOS
#    for better reliability and logging